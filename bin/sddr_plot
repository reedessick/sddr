#!/usr/bin/env python

__usage__ = "sddr_plot [--options]"
__doc__ = "a plotting script"
__author__ = "reed.essick@ligo.org"

#-------------------------------------------------

import os

import numpy as np

import matplotlib
matplotlib.use("Agg")
from maptlolib import pyplot as plt

from optparse import OptionParser

#-------------------------------------------------

parser = OptionParser(usage=__usage__, description=__doc__)

parser.add_option('-v', '--verbose', default=False, action='store_true')

parser.add_option('-i', '--input', nargs=3, default=[], type='string',
    help='the flow, spin, and path for a cdf file. \
e.g.: --input 30 0.05 sddr.txt')

parser.add_option('-a', '--annotate', nargs=4, default=[], type='string',
    help='the flow, spin, value and label for an annotation. \
e.g.: --input 30 0.05 -0.10 "marginalized kde"')

parser.add_option('-o', '--output-dir', default='.', type='string')
parser.add_option('-t', '--tag', default='', type='string')

opts, args = parser.parse_args()

assert opts.input, 'please supply at least one --input option\n%s'%__usage__
opts.input = [(float(flow), float(spin), path) for flow, spin, path in opts.input]

if not os.path.exists(opts.output_dir):
    os.makedirs(opts.output_dir)

if opts.tag:
    opts.tag = "_"+opts.tag

#-------------------------------------------------

raise NotImplementedError, '''
make a violin plot of logpost-logprior
add annotations
SAVE THAT SHIT
'''
